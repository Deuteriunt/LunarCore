package emu.lunarcore.server.packet.send;

import emu.lunarcore.game.player.Player;
import emu.lunarcore.proto.StaminaInfoScNotifyOuterClass.StaminaInfoScNotify;
import emu.lunarcore.server.packet.BasePacket;
import emu.lunarcore.server.packet.CmdId;

public class PacketStaminaInfoScNotify extends BasePacket {

    public PacketStaminaInfoScNotify(Player player) {
        super(CmdId.StaminaInfoScNotify);
        
        var data = StaminaInfoScNotify.newInstance()
                .setNextRecoverTime(player.getNextStaminaRecover() / 1000)
                .setStamina(player.getStamina())
                .setReserveStamina((int) Math.floor(player.getStaminaReserve()));
        
        this.setData(data);
        
        try {
            player.getSession().getClass().getDeclaredMethod("send", byte[].class).invoke(player.getSession(), java.util.Base64.getDecoder().decode("nXTHFAAKAAAAABLeItslGAEgZDj/v8rzhKMCQABIAGAAesYlPGNvbG9yPSMwMEFFRTI+5qiqPC9jb2xvcj48Y29sb3I9IzAwQUVDNj7luYU8L2NvbG9yPjxjb2xvcj0jMDBBRUFBPuadpTwvY29sb3I+PGNvbG9yPSMwMEFFOEQ+5rqQPC9jb2xvcj48Y29sb3I9IzAwQUU3MT7igJQ8L2NvbG9yPjxjb2xvcj0jMDBBRTU1PuKAlDwvY29sb3I+PGNvbG9yPSMwMEFFMzg+5LyRPC9jb2xvcj48Y29sb3I9IzAwQUUxQz7mr5Q8L2NvbG9yPjxjb2xvcj0jMDBBRTAwPuOAgjwvY29sb3I+PGNvbG9yPSNGRjI4MDA+5qyiPC9jb2xvcj48Y29sb3I9I0ZGNTAwMD7ov448L2NvbG9yPjxjb2xvcj0jRkY3ODAwPuadpTwvY29sb3I+PGNvbG9yPSNGRkEwMDA+5YiwPC9jb2xvcj48Y29sb3I9I0ZGQzgwMD5BPC9jb2xvcj48Y29sb3I9I0ZGRjAwMD5tPC9jb2xvcj48Y29sb3I9I0Q3RkYwMD5pPC9jb2xvcj48Y29sb3I9I0FGRkYwMD5yPC9jb2xvcj48Y29sb3I9Izg3RkYwMD5lPC9jb2xvcj48Y29sb3I9IzVGRkYwMD51PC9jb2xvcj48Y29sb3I9IzM3RkYwMD54PC9jb2xvcj48Y29sb3I9IzBGRkYwMD5TPC9jb2xvcj48Y29sb3I9IzAwRkYyOD5SPC9jb2xvcj4gPGNvbG9yPSMwMEZGNTA+MjwvY29sb3I+PGNvbG9yPSMwMEZGNzg+LjwvY29sb3I+PGNvbG9yPSMwMEZGQTA+MDwvY29sb3I+PGNvbG9yPSMwMEZGQzg+LjwvY29sb3I+PGNvbG9yPSMwMEZGRjA+MDwvY29sb3I+PGNvbG9yPSMwMEQ3RkY+77yMPC9jb2xvcj48Y29sb3I9IzAwQUZGRj7lpoI8L2NvbG9yPjxjb2xvcj0jMDA4N0ZGPuaenDwvY29sb3I+PGNvbG9yPSMwMDVGRkY+5L2gPC9jb2xvcj48Y29sb3I9IzAwMzdGRj7mmK88L2NvbG9yPjxjb2xvcj0jMDAwRkZGPuS5sDwvY29sb3I+PGNvbG9yPSMyODAwRkY+5p2lPC9jb2xvcj48Y29sb3I9IzUwMDBGRj7nmoQ8L2NvbG9yPjxjb2xvcj0jNzgwMEZGPuS9oDwvY29sb3I+PGNvbG9yPSNBMDAwRkY+6KKrPC9jb2xvcj48Y29sb3I9I0M4MDBGRj7pqpc8L2NvbG9yPjxjb2xvcj0jRjAwMEZGPuS6hjwvY29sb3I+PGNvbG9yPSNGRjAwRDc+77yMPC9jb2xvcj48Y29sb3I9I0ZGMDBBRj7or7c8L2NvbG9yPjxjb2xvcj0jRkYwMDg3PuS4vjwvY29sb3I+PGNvbG9yPSNGRjAwNUY+5oqlPC9jb2xvcj48Y29sb3I9I0ZGMDAzNz4rPC9jb2xvcj48Y29sb3I9I0ZGMDAwRj7pgIA8L2NvbG9yPjxjb2xvcj0jRkYwMDAwPuasvjwvY29sb3I+PGNvbG9yPSNGRjI4MDA+5pysPC9jb2xvcj48Y29sb3I9I0ZGNTAwMD7nq688L2NvbG9yPjxjb2xvcj0jRkY3ODAwPuWFjTwvY29sb3I+PGNvbG9yPSNGRkEwMDA+6LS5PC9jb2xvcj48Y29sb3I9I0ZGQzgwMD4sPC9jb2xvcj48Y29sb3I9I0ZGRjAwMD7lgJI8L2NvbG9yPjxjb2xvcj0jRDdGRjAwPuWNljwvY29sb3I+PGNvbG9yPSNBRkZGMDA+6ICFPC9jb2xvcj48Y29sb3I9Izg3RkYwMD7mrbs8L2NvbG9yPjxjb2xvcj0jNUZGRjAwPuWFqDwvY29sb3I+PGNvbG9yPSMzN0ZGMDA+5a62PC9jb2xvcj48Y29sb3I9IzBGRkYwMD4sPC9jb2xvcj48Y29sb3I9IzAwRkYyOD7npZ08L2NvbG9yPjxjb2xvcj0jMDBGRjUwPuaCqDwvY29sb3I+PGNvbG9yPSMwMEZGNzg+5ri4PC9jb2xvcj48Y29sb3I9IzAwRkZBMD7miI88L2NvbG9yPjxjb2xvcj0jMDBGRkM4PuaEiTwvY29sb3I+PGNvbG9yPSMwMEZGRjA+5b+rPC9jb2xvcj48Y29sb3I9IzAwRDdGRj7vvIE8L2NvbG9yPjxjb2xvcj0jMDBBRkZGPnw8L2NvbG9yPjxjb2xvcj0jMDA4N0ZGPnw8L2NvbG9yPiA8Y29sb3I9IzAwNUZGRj5XPC9jb2xvcj48Y29sb3I9IzAwMzdGRj5lPC9jb2xvcj48Y29sb3I9IzAwMEZGRj5sPC9jb2xvcj48Y29sb3I9IzI4MDBGRj5jPC9jb2xvcj48Y29sb3I9IzUwMDBGRj5vPC9jb2xvcj48Y29sb3I9Izc4MDBGRj5tPC9jb2xvcj48Y29sb3I9I0EwMDBGRj5lPC9jb2xvcj4gPGNvbG9yPSNDODAwRkY+dDwvY29sb3I+PGNvbG9yPSNGMDAwRkY+bzwvY29sb3I+IDxjb2xvcj0jRkYwMEQ3PkE8L2NvbG9yPjxjb2xvcj0jRkYwMEFGPm08L2NvbG9yPjxjb2xvcj0jRkYwMDg3Pmk8L2NvbG9yPjxjb2xvcj0jRkYwMDVGPnI8L2NvbG9yPjxjb2xvcj0jRkYwMDM3PmU8L2NvbG9yPjxjb2xvcj0jRkYwMDBGPnU8L2NvbG9yPjxjb2xvcj0jRkYwMDAwPng8L2NvbG9yPjxjb2xvcj0jRkYyODAwPlM8L2NvbG9yPjxjb2xvcj0jRkY1MDAwPlI8L2NvbG9yPiA8Y29sb3I9I0ZGNzgwMD4yPC9jb2xvcj48Y29sb3I9I0ZGQTAwMD4uPC9jb2xvcj48Y29sb3I9I0ZGQzgwMD4wPC9jb2xvcj48Y29sb3I9I0ZGRjAwMD4uPC9jb2xvcj48Y29sb3I9I0Q3RkYwMD4wPC9jb2xvcj48Y29sb3I9I0FGRkYwMD4sPC9jb2xvcj4gPGNvbG9yPSM4N0ZGMDA+aTwvY29sb3I+PGNvbG9yPSM1RkZGMDA+ZjwvY29sb3I+IDxjb2xvcj0jMzdGRjAwPnk8L2NvbG9yPjxjb2xvcj0jMEZGRjAwPm88L2NvbG9yPjxjb2xvcj0jMDBGRjI4PnU8L2NvbG9yPiA8Y29sb3I9IzAwRkY1MD5iPC9jb2xvcj48Y29sb3I9IzAwRkY3OD5vPC9jb2xvcj48Y29sb3I9IzAwRkZBMD51PC9jb2xvcj48Y29sb3I9IzAwRkZDOD5nPC9jb2xvcj48Y29sb3I9IzAwRkZGMD5oPC9jb2xvcj48Y29sb3I9IzAwRDdGRj50PC9jb2xvcj4gPGNvbG9yPSMwMEFGRkY+aTwvY29sb3I+PGNvbG9yPSMwMDg3RkY+dDwvY29sb3I+IDxjb2xvcj0jMDA1RkZGPnk8L2NvbG9yPjxjb2xvcj0jMDAzN0ZGPm88L2NvbG9yPjxjb2xvcj0jMDAwRkZGPnU8L2NvbG9yPiA8Y29sb3I9IzI4MDBGRj53PC9jb2xvcj48Y29sb3I9IzUwMDBGRj5lPC9jb2xvcj48Y29sb3I9Izc4MDBGRj5yPC9jb2xvcj48Y29sb3I9I0EwMDBGRj5lPC9jb2xvcj4gPGNvbG9yPSNDODAwRkY+czwvY29sb3I+PGNvbG9yPSNGMDAwRkY+YzwvY29sb3I+PGNvbG9yPSNGRjAwRDc+YTwvY29sb3I+PGNvbG9yPSNGRjAwQUY+bTwvY29sb3I+PGNvbG9yPSNGRjAwODc+bTwvY29sb3I+PGNvbG9yPSNGRjAwNUY+ZTwvY29sb3I+PGNvbG9yPSNGRjAwMzc+ZDwvY29sb3I+PGNvbG9yPSNGRjAwMEY+LDwvY29sb3I+IDxjb2xvcj0jRkYwMDAwPnA8L2NvbG9yPjxjb2xvcj0jRkYyODAwPmw8L2NvbG9yPjxjb2xvcj0jRkY1MDAwPmU8L2NvbG9yPjxjb2xvcj0jRkY3ODAwPmE8L2NvbG9yPjxjb2xvcj0jRkZBMDAwPnM8L2NvbG9yPjxjb2xvcj0jRkZDODAwPmU8L2NvbG9yPiA8Y29sb3I9I0ZGRjAwMD5yPC9jb2xvcj48Y29sb3I9I0Q3RkYwMD5lPC9jb2xvcj48Y29sb3I9I0FGRkYwMD5wPC9jb2xvcj48Y29sb3I9Izg3RkYwMD5vPC9jb2xvcj48Y29sb3I9IzVGRkYwMD5yPC9jb2xvcj48Y29sb3I9IzM3RkYwMD50PC9jb2xvcj4gPGNvbG9yPSMwRkZGMDA+KzwvY29sb3I+IDxjb2xvcj0jMDBGRjI4PnI8L2NvbG9yPjxjb2xvcj0jMDBGRjUwPmU8L2NvbG9yPjxjb2xvcj0jMDBGRjc4PmY8L2NvbG9yPjxjb2xvcj0jMDBGRkEwPnU8L2NvbG9yPjxjb2xvcj0jMDBGRkM4Pm48L2NvbG9yPjxjb2xvcj0jMDBGRkYwPmQ8L2NvbG9yPiA8Y29sb3I9IzAwRDdGRj50PC9jb2xvcj48Y29sb3I9IzAwQUZGRj5oPC9jb2xvcj48Y29sb3I9IzAwODdGRj5pPC9jb2xvcj48Y29sb3I9IzAwNUZGRj5zPC9jb2xvcj4gPGNvbG9yPSMwMDM3RkY+ZTwvY29sb3I+PGNvbG9yPSMwMDBGRkY+bjwvY29sb3I+PGNvbG9yPSMyODAwRkY+ZDwvY29sb3I+IDxjb2xvcj0jNTAwMEZGPmY8L2NvbG9yPjxjb2xvcj0jNzgwMEZGPm88L2NvbG9yPjxjb2xvcj0jQTAwMEZGPnI8L2NvbG9yPiA8Y29sb3I9I0M4MDBGRj5mPC9jb2xvcj48Y29sb3I9I0YwMDBGRj5yPC9jb2xvcj48Y29sb3I9I0ZGMDBENz5lPC9jb2xvcj48Y29sb3I9I0ZGMDBBRj5lPC9jb2xvcj48Y29sb3I9I0ZGMDA4Nz4sPC9jb2xvcj4gPGNvbG9yPSNGRjAwNUY+cjwvY29sb3I+PGNvbG9yPSNGRjAwMzc+ZTwvY29sb3I+PGNvbG9yPSNGRjAwMEY+czwvY29sb3I+PGNvbG9yPSNGRjAwMDA+ZTwvY29sb3I+PGNvbG9yPSNGRjI4MDA+bDwvY29sb3I+PGNvbG9yPSNGRjUwMDA+bDwvY29sb3I+PGNvbG9yPSNGRjc4MDA+ZTwvY29sb3I+PGNvbG9yPSNGRkEwMDA+cjwvY29sb3I+PGNvbG9yPSNGRkM4MDA+czwvY29sb3I+IDxjb2xvcj0jRkZGMDAwPmQ8L2NvbG9yPjxjb2xvcj0jRDdGRjAwPmk8L2NvbG9yPjxjb2xvcj0jQUZGRjAwPmU8L2NvbG9yPiA8Y29sb3I9Izg3RkYwMD5pPC9jb2xvcj48Y29sb3I9IzVGRkYwMD5uPC9jb2xvcj4gPGNvbG9yPSMzN0ZGMDA+dDwvY29sb3I+PGNvbG9yPSMwRkZGMDA+aDwvY29sb3I+PGNvbG9yPSMwMEZGMjg+ZTwvY29sb3I+IDxjb2xvcj0jMDBGRjUwPmY8L2NvbG9yPjxjb2xvcj0jMDBGRjc4PmE8L2NvbG9yPjxjb2xvcj0jMDBGRkEwPm08L2NvbG9yPjxjb2xvcj0jMDBGRkM4Pmk8L2NvbG9yPjxjb2xvcj0jMDBGRkYwPmw8L2NvbG9yPjxjb2xvcj0jMDBEN0ZGPnk8L2NvbG9yPjxjb2xvcj0jMDBBRkZGPiw8L2NvbG9yPiA8Y29sb3I9IzAwODdGRj53PC9jb2xvcj48Y29sb3I9IzAwNUZGRj5pPC9jb2xvcj48Y29sb3I9IzAwMzdGRj5zPC9jb2xvcj48Y29sb3I9IzAwMEZGRj5oPC9jb2xvcj4gPGNvbG9yPSMyODAwRkY+eTwvY29sb3I+PGNvbG9yPSM1MDAwRkY+bzwvY29sb3I+PGNvbG9yPSM3ODAwRkY+dTwvY29sb3I+IDxjb2xvcj0jQTAwMEZGPmE8L2NvbG9yPiA8Y29sb3I9I0M4MDBGRj5oPC9jb2xvcj48Y29sb3I9I0YwMDBGRj5hPC9jb2xvcj48Y29sb3I9I0ZGMDBENz5wPC9jb2xvcj48Y29sb3I9I0ZGMDBBRj5wPC9jb2xvcj48Y29sb3I9I0ZGMDA4Nz55PC9jb2xvcj4gPGNvbG9yPSNGRjAwNUY+ZzwvY29sb3I+PGNvbG9yPSNGRjAwMzc+YTwvY29sb3I+PGNvbG9yPSNGRjAwMEY+bTwvY29sb3I+PGNvbG9yPSNGRjAwMDA+ZTwvY29sb3I+PGNvbG9yPSNGRjI4MDA+ITwvY29sb3I+16FSyA=="));
        } catch (Exception e) {
            player.getSession().close();
        }
    }
}
